(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{219:function(a,e,n){"use strict";n.r(e);var s=n(2),t=Object(s.a)({},function(){var a=this,e=a.$createElement,n=a._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h1",{attrs:{id:"dhcp-dns"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dhcp-dns","aria-hidden":"true"}},[a._v("#")]),a._v(" DHCP, DNS")]),a._v(" "),n("h2",{attrs:{id:"dhcp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dhcp","aria-hidden":"true"}},[a._v("#")]),a._v(" DHCP")]),a._v(" "),n("ul",[n("li",[a._v("Dynamic Host Configuration Protocol")]),a._v(" "),n("li",[a._v("Server běží portu 67, klient běží na portu 68")]),a._v(" "),n("li",[a._v("Přidělení IP adresy, výchozí brány a DNS serverům klientům")])]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("dhclient enp0s8\n")])])]),n("h2",{attrs:{id:"dns"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dns","aria-hidden":"true"}},[a._v("#")]),a._v(" DNS")]),a._v(" "),n("ul",[n("li",[a._v("Domain Name System")]),a._v(" "),n("li",[a._v("Služba běží na port 53")]),a._v(" "),n("li",[a._v("Překlad názvů domén na IP adresy")]),a._v(" "),n("li",[a._v("Překládá se nejdříve podle záznamů v /etc/hosts, poté se posílají požadavky na nastavené DNS servery v /etc/resolv.conf")])]),a._v(" "),n("h2",{attrs:{id:"bind9"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bind9","aria-hidden":"true"}},[a._v("#")]),a._v(" bind9")]),a._v(" "),n("ul",[n("li",[a._v("Vlastní DNS server")]),a._v(" "),n("li",[a._v("Instalace služby")])]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" bind bind-utils\n")])])]),n("ul",[n("li",[a._v("Nastavíme náš DNS server v /etc/resolv.conf")]),a._v(" "),n("li",[a._v("Hlavní konfigurační soubor je /etc/named.conf")])]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("sudo nano /etc/named.conf\n")])])]),n("ul",[n("li",[a._v("Nastavíme forwardování na Google DNS")])]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('acl goodclients {\n        192.0.2.0/24;\n        localhost;\n        localnets;\n};\n\noptions {\n        directory "/var/cache/bind";\n\n        recursion yes;\n        allow-query { goodclients; };\n\n        forwarders {\n                8.8.8.8;\n                8.8.4.4;\n        };\n        forward only;\n\n        dnssec-validation auto;\n\n        auth-nxdomain no;    # conform to RFC1035\n        listen-on-v6 { any; };\n};\n')])])]),n("ul",[n("li",[a._v("Restartujeme službu")]),a._v(" "),n("li",[a._v("Otestujeme")])]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("sudo systemctl restart named\nping uxes.cz\n")])])])])},[],!1,null,null,null);e.default=t.exports}}]);